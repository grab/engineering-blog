<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Supercharging LLM application development with LLM-Kit</title>
    <meta name="description" content="Discover how Grab's LLM-Kit enhances AI app development by addressing scalability, security, and integration challenges. This article discusses the challenges faced in LLM app building, the solution, the architecture of the LLM-Kit as well as the future plans of the LLM-Kit.">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Open Graph -->
    <meta property="og:url" content="https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit">
    <meta property="og:title" content="Supercharging LLM application development with LLM-Kit">
    <meta property="og:description" content="Discover how Grab's LLM-Kit enhances AI app development by addressing scalability, security, and integration challenges. This article discusses the challenges faced in LLM app building, the solution, the architecture of the LLM-Kit as well as the future plans of the LLM-Kit.">
    <meta property="og:site_name" content="Grab Tech">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://engineering.grab.com/img/llm_kit/llmkit-banner.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- CSS -->
    <link href="//fonts.googleapis.com/css?family=Droid+Serif:400,400i,700,700i" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS for Official Grab Tech Blog" href="/feed.xml">
    <!-- OneTrust Cookies Consent Notice start for grab.com -->
    <script type="text/javascript" src="https://cdn-apac.onetrust.com/consent/a3be3527-7455-48e0-ace6-557ddbd506d5/OtAutoBlock.js" ></script>
    <script src="https://cdn-apac.onetrust.com/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="a3be3527-7455-48e0-ace6-557ddbd506d5" ></script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for grab.com -->
  </head>

  <body>
    <header class="site-header">
  <div class="wrapper-navbar">
    <div class="site-title-wrapper">
      <div class="row site-title-wrapper-inner">
        <div class="col-xs-1 visible-xs hamburger-nav" id="mobile-menu-btn">
          <div class="menu-btn"></div>
        </div>
        <div class="col-sm-3 col-xs-3">
          <div class="site-title-container">
            <a class="site-title" href="/"></a>
            <span class="site-subtitle">&nbsp;Tech Blog</span>
          </div>
        </div>
        <div class="col-sm-9 col-xs-8 text-right">
          <ul class="nav-category hidden-xs">
            
              
              <li>
                <a href="/categories/engineering/">Engineering</a>
              </li>
            
              
              <li>
                <a href="/categories/data-science/">Data Science</a>
              </li>
            
              
              <li>
                <a href="/categories/design/">Design</a>
              </li>
            
              
              <li>
                <a href="/categories/product/">Product</a>
              </li>
            
              
              <li>
                <a href="/categories/security/">Security</a>
              </li>
            
          </ul>
          <div class="site-search text-right">
            <form action="/search.html" role="search" class="search-form">
  <div class="search-icon"> </div>
  <input type="search" name="q" class="search-text" placeholder="Search...">
  <button class="search-submit"><i class="fa fa-chevron-right"></i></button>
</form>
    

          </div>
        </div>
      </div>
      <!--  Only visible on mobile view -->
      <div class="mobile-menu-container">
        <ul class="mobile-menu">
          
            
            <li>
              <a href="/categories/engineering/">Engineering</a>
            </li>
          
            
            <li>
              <a href="/categories/data-science/">Data Science</a>
            </li>
          
            
            <li>
              <a href="/categories/design/">Design</a>
            </li>
          
            
            <li>
              <a href="/categories/product/">Product</a>
            </li>
          
            
            <li>
              <a href="/categories/security/">Security</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</header>
<script src="/js/main.js"></script>

    <div class="page-content">
      
<div class="wrapper">
  <div class="post">
    <header class="post-header">
      <img src="/img/llm_kit/llmkit-banner.png" class="post-cover-photo" alt="Supercharging LLM application development with LLM-Kit cover photo">
      
        
          <a class="post-category" href="/categories/engineering/">Engineering </a>
      
        
          &middot;
        
          <a class="post-category" href="/categories/data-science/">Data Science </a>
      

      <h1 class="post-title">Supercharging LLM application development with LLM-Kit</h1>
      
      <div class="post-meta">
        <div class="row">
          <div class="col-xs-12">
            <div class="post-author-thumbnail-container">
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/boonzhan-chew.png">
                
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/kendrick-tan.png">
                
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/swati-joshi.png">
                
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/yujie-ang.png">
                
              
            </div>

            <div class="post-meta-text-container">
              <span class="post-author-large">
                
                  
                  
                    
                    <a href="/authors#boonzhan-chew">Boon Zhan Chew</a>
                  
                
                  
                  
                    
                      &middot;
                    
                    <a href="/authors#kendrick-tan">Kendrick Tan</a>
                  
                
                  
                  
                    
                      &middot;
                    
                    <a href="/authors#swati-joshi">Swati Joshi</a>
                  
                
                  
                  
                    
                      &middot;
                    
                    <a href="/authors#yujie-ang">Yu Jie Ang</a>
                  
                
              </span>
              <span class="post-date-large">29 Nov 2024 | 7 min read</span>
            </div>
          </div>
        </div>
      </div>

    </header>
    <div class="wrapper-content">
      <article class="post-content">
        <h2 id="introduction">Introduction</h2>

<p>At Grab, we are committed to leveraging the power of technology to deliver the best services to our users and partners. As part of this commitment, we have developed the LLM-Kit, a comprehensive framework designed to supercharge the setup of production-ready Generative AI applications. This blog post will delve into the features of the LLM-Kit, the problems it solves, and the value it brings to our organisation.</p>

<h2 id="challenges">Challenges</h2>

<p>The introduction of the LLM-Kit has significantly addressed the challenges encountered in LLM application development. The involvement of sensitive data in AI applications necessitates that security remains a top priority, ensuring data safety is not compromised during AI application development.</p>

<p>Concerns such as scalability, integration, monitoring, and standardisation are common issues that any organisation will face in their LLM and AI development efforts.</p>

<p>The LLM-Kit has empowered Grab to pursue LLM application development and the rollout of Generative AI efficiently and effectively in the long term.</p>

<h2 id="introducing-the-llm-kit">Introducing the LLM-Kit</h2>

<p>The LLM-Kit is our solution to these challenges. Since the introduction of the LLM Kit, it has helped onboard hundreds of GenAI applications at Grab and has become the de facto choice for developers. It is a comprehensive framework designed to supercharge the setup of production-ready LLM applications. The LLM-Kit provides:</p>

<ul>
  <li><strong>Pre-configured structure</strong>: The LLM-Kit comes with a pre-configured structure containing an API server, configuration management, a sample LLM Agent, and tests.</li>
  <li><strong>Integrated tech stack</strong>: The LLM-Kit integrates with Poetry, Gunicorn, FastAPI, LangChain, LangSmith, Hashicorp Vault, Amazon EKS, and Gitlab CI pipelines to provide a robust and end-to-end tech stack for LLM application development.</li>
  <li><strong>Observability</strong>: The LLM-Kit features built-in observability with Datadog integration and LangSmith, enabling real-time monitoring of LLM applications.</li>
  <li><strong>Config &amp; secret management</strong>: The LLM-Kit utilises Python’s configparser and Vault for efficient configuration and secret management.</li>
  <li><strong>Authentication</strong>: The LLM-Kit provides built-in OpenID Connect (OIDC) auth helpers for authentication to Grab’s internal services.</li>
  <li><strong>API documentation</strong>: The LLM-Kit features comprehensive API documentation using Swagger and Redoc.</li>
  <li><strong>Redis &amp; vector databases integration</strong>: The LLM-Kit integrates with Redis and Vector databases for efficient data storage and retrieval.</li>
  <li><strong>Deployment pipeline</strong>: The LLM-Kit provides a deployment pipeline for staging and production environments.</li>
  <li><strong>Evaluations</strong>: The LLM-Kit seamlessly integrates with LangSmith, utilising its robust evaluations framework to ensure the quality and performance of the LLM applications.</li>
</ul>

<p>In addition to these features, the team has also included a cookbook with many commonly used examples within the organisation providing a valuable resource for developers. Our cookbook includes a diverse range of examples, such as persistent memory agents, Slackbot LLM agents, image analysers and full-stack chatbots with user interfaces, showcasing the versatility of the LLM-Kit.</p>

<h2 id="the-value-of-the-llm-kit">The value of the LLM-Kit</h2>

<p>The LLM-Kit brings significant value to our teams at Grab:</p>

<ul>
  <li><strong>Increased development velocity</strong>: By providing a pre-configured structure and integrated tech stack, the LLM-Kit accelerates the development of LLM applications.</li>
  <li><strong>Improved observability</strong>: With built-in LangSmith and Datadog integration, teams can monitor their LLM applications in real-time, enabling faster issue detection and resolution.</li>
  <li><strong>Enhanced security</strong>: The LLM-Kit’s built-in OIDC auth helpers and secret management using Vault ensure the secure development and deployment of LLM applications.</li>
  <li><strong>Efficient data management</strong>: The integration with Vector databases facilitates efficient data storage and retrieval, crucial for the performance of LLM applications.</li>
  <li><strong>Standardisation</strong>: The LLM-Kit provides a paved-road framework for building LLM applications, promoting best practices and standardisation across teams.</li>
</ul>

<p>Through the LLM-Kit, we can save an estimate of 1.5 weeks before teams start working on their first feature.</p>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-1.png" alt="" style="width:60%" /><figcaption align="middle">Figure 1. Project development process before LLM-Kit</figcaption>
  </figure>
</div>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-2.png" alt="" style="width:60%" /><figcaption align="middle">Figure 2. Project development process after LLM-Kit</figcaption>
  </figure>
</div>

<h2 id="architecture-design-and-technical-implementation">Architecture design and technical implementation</h2>

<p>The LLM-Kit is designed with a modular architecture that promotes scalability, flexibility, and ease of use.</p>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-3.png" alt="" style="width:60%" /><figcaption align="middle">Figure 3. LLM-Kit modules</figcaption>
  </figure>
</div>

<h3 id="automated-steps">Automated steps</h3>

<p>To better illustrate the technical implementation of the LLM-Kit, let’s take a look at figure 4 which outlines the step-by-step process of how an LLM application is generated with the LLM-Kit:</p>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-4.png" alt="" style="width:60%" /><figcaption align="middle">Figure 4. Process of generating LLM apps using LLM-Kit</figcaption>
  </figure>
</div>

<p>The process begins when an engineer submits a form with the application name and other relevant details. This triggers the creation of a GitLab project, followed by the generation of a code scaffold specifically designed for the LLM application. GitLab CI files are then generated within the same repository to handle continuous integration and deployment tasks. The process continues with the creation of staging infrastructure, including components like Elastic Container Registry (ECR) and Elastic Kubernetes Service (EKS). Additionally, a Terraform folder is created to provision the necessary infrastructure, eventually leading to the deployment of production infrastructure. At the end of the pipeline, a GPT token is pushed to a secure Vault path, and the engineer is notified upon the successful completion of the pipeline.</p>

<h3 id="scaffold-code-structure">Scaffold code structure</h3>

<p>The scaffolded code is broken down into multiple folders:</p>

<ol>
  <li><strong>Agents</strong>: Contains the code to initialise an agent. We have gone ahead with LangChain as the agent framework; essentially the entry point for the endpoint defined in the Routes folder.</li>
  <li><strong>Auth</strong>: Authentication and authorisation module for executing some of the APIs within Grab.</li>
  <li><strong>Core</strong>: Includes extracting all configurations (i.e. GPT token) and secret decryption for running the LLM application.</li>
  <li><strong>Models</strong>: Used to define the structure for the core LLM APIs within Grab.</li>
  <li><strong>Routes:</strong> REST API endpoint definitions for the LLM Applications. It comes with health check, authentication, authorisation, and a simple agent by default.</li>
  <li><strong>Storage</strong>: Includes connectivity with PGVector, our managed vector database within Grab and database schemas.</li>
  <li><strong>Tools</strong>: Functions which are used as tools for the LLM Agent.</li>
  <li><strong>Tracing</strong>: Integration with our tracing and monitoring tools to monitor various metrics for a production application.</li>
  <li><strong>Utils</strong>: Default folder for utility functions.</li>
</ol>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-5.png" alt="" style="width:40%" /><figcaption align="middle">Figure 5. Scaffold code structure</figcaption>
  </figure>
</div>

<h3 id="infrastructure-provisioning-and-deployment">Infrastructure provisioning and deployment</h3>

<p>Within the same codebase, we have integrated a comprehensive pipeline that automatically scaffolds the necessary code for infrastructure provisioning, deployment, and build processes. Using Terraform, the pipeline provisions the required infrastructure seamlessly. The deployment pipelines are defined in the .gitlab-ci.yml file, ensuring smooth and automated deployments. Additionally, the build process is specified in the Dockerfile, allowing for consistent builds. This automated scaffolding streamlines the development workflow, enabling developers to focus on writing business logic without worrying about the underlying infrastructure and deployment complexities.</p>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-6.png" alt="" style="width:60%" /><figcaption align="middle">Figure 6. Pipeline infrastructure </figcaption>
  </figure>
</div>

<h3 id="rag-scaffolding">RAG scaffolding</h3>

<p>At Grab, we’ve established a streamlined process for setting up a vector database (PGVector) and whitelisting the service using the LLM-Kit. Once the form (figure 7) is submitted, you can access the credentials and database host path. The secrets will be automatically added to the Vault path. Engineers will then only need to include the DB host path in the configuration file of the scaffolded LLM-Kit application.</p>

<div class="post-image-section"><figure>
  <img src="/img/llm_kit/figure-7.png" alt="" style="width:60%" /><figcaption align="middle">Figure 7. Form submitted to access credentials and database host path</figcaption>
  </figure>
</div>

<h2 id="conclusion">Conclusion</h2>

<p>The LLM-Kit is a testament to Grab’s commitment to fostering innovation and growth in AI and ML. By addressing the challenges faced by our teams and providing a comprehensive, scalable, and flexible framework for LLM application development, the LLM-Kit is paving the way for the next generation of AI applications at Grab.</p>

<h2 id="growth-and-future-plans">Growth and future plans</h2>

<p>Looking ahead, the LLM-Kit team aims to significantly enhance the web server’s concurrency and scalability while providing reliable and easy-to-use SDKs. The team plans to offer reusable and composable LLM SDKs, including evaluation and guardrails frameworks, to enable service owners to build feature-rich Generative AI programs with ease. Key initiatives also include the development of a CLI for version updates and dev tooling, as well as a polling-based agent serving function. These advancements are designed to drive innovation and efficiency within the organisation, ultimately providing a more seamless and efficient development experience for engineers.</p>

<p><small class="credits">We would like to acknowledge and thank Pak Zan Tan, Han Su, and Jonathan Ku from the Yoshi team and Chen Fei Lee from the MEKS team for their contribution to this project under the leadership of Padarn George Wilson.</small></p>

<h2 id="join-us">Join us</h2>

<p>Grab is the leading superapp platform in Southeast Asia, providing everyday services that matter to consumers. More than just a ride-hailing and food delivery app, Grab offers a wide range of on-demand services in the region, including mobility, food, package and grocery delivery services, mobile payments, and financial services across 700 cities in eight countries.</p>

<p>Powered by technology and driven by heart, our mission is to drive Southeast Asia forward by creating economic empowerment for everyone. If this mission speaks to you, <a href="https://grab.careers/">join our team</a> today!</p>

      </article>
      <div>
        
          <div class="post-tags">
  
  
    <a href="/tags#engineering" class="label tags-label">Engineering</a>
  
    <a href="/tags#generative-ai" class="label tags-label">Generative AI</a>
  
    <a href="/tags#llm" class="label tags-label">LLM</a>
  
    <a href="/tags#machine-learning" class="label tags-label">Machine Learning</a>
  
</div>

        
        <br>
      </div>
      <div class="sharing-links text-right">
  Share on &nbsp;
  <a href="https://twitter.com/intent/tweet?text=Supercharging LLM application development with LLM-Kit&url=https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit&via=grabengineering&related=grabengineering" class="btn btn-sm btn-share btn-share-twitter" rel="nofollow" target="_new" title="Share on Twitter" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-twitter"></i>&nbsp; Twitter</a>
  <a href="https://facebook.com/sharer.php?u=https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit" class="btn btn-sm btn-share btn-share-facebook" rel="nofollow" target="_new" title="Share on Facebook" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-facebook"></i>&nbsp; Facebook</a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit&title=Supercharging LLM application development with LLM-Kit
&summary=Discover how Grab's LLM-Kit enhances AI app development by addressing scalability, security, and integration challenges. This article discusses the challenges faced in LLM app building, the solution, the architecture of the LLM-Kit as well as the future plans of the LLM-Kit.&source=Grab Tech" class="btn btn-sm btn-share btn-share-linkedin" rel="nofollow" target="_new" title="Share on LinkedIn" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-linkedin"></i>&nbsp; LinkedIn</a>
</div>
<script>
  function onShareButtonClick(button) {
    var width = 600;
    var height = 600;
    var left = (window.screen.width / 2) - (width / 2);
    var top = (window.screen.height / 2) - (height / 2);
    window.open(button.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=' + height + ',width=' + width + ',top=' + top + ',left=' + left);
    return false;
  }
</script>

      <hr class="section-divider">

      <br/>
      <!-- 
        <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'https://engineering.grab.com/supercharging-llm-application-development-with-llm-kit';
    this.page.identifier = '/supercharging-llm-application-development-with-llm-kit';
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = '//grabengineering.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

       -->

    </div>
  </div>
</div>

    </div>
    <div class="progress-wrap">
    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
    </svg>
    <i class="fa fa-chevron-up btt-btn"></i>
</div>
    <footer class="site-footer">
  <div class="wrapper">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <h2 class="footer-heading">Grab Tech</h2>
        <ul class="social-media-list">
  
    <li>
      <a href="https://github.com/grab" target="_blank" rel="nofollow noreferrer">
        <i class="fa fa-github fa-lg"></i>
      </a>
    </li>
  
  
    <li>
      <a href="https://www.linkedin.com/company/grabapp" target="_blank" rel="nofollow noreferrer">
        <i class="fa fa-linkedin fa-lg"></i>
      </a>
    </li>
  
  <li>
    <a href="https://engineering.grab.com/feed.xml" target="_blank">
      <i class="fa fa-rss fa-lg"></i>
    </a>
  </li>
</ul>

        <div>
          <script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
          <script type="IN/FollowCompany" data-id="5382086" data-counter="right"></script>
        </div>        
        <br>
      </div>
      <div class="col-sm-6 col-xs-12 hiring-section">
        <h2 class="footer-heading">Join Us</h2>
        <p class="text">
          Want to join us in our mission to revolutionize transportation?
        </p>
        <a class="btn" href="https://grab.careers" target="_blank">View open positions</a>

      </div>
    </div>
    
  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-T3CT72T');
  </script>
  <!-- End Google Tag Manager -->

  <!-- Old script 
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'GTM-T3CT72T', 'auto');
    ga('send', 'pageview');
  </script> -->
<!-- End of olf script -->


  </body>
</html>
