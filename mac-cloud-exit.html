<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Grab's Mac Cloud Exit supercharges macOS CI/CD</title>
    <meta name="description" content="Discover how our transition from cloud-based Mac hardware infrastructure to a colocation cluster within Southeast Asia has revolutionized our macOS CI/CD, enhancing performance and reducing costs.">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Open Graph -->
    <meta property="og:url" content="https://engineering.grab.com/mac-cloud-exit">
    <meta property="og:title" content="Grab's Mac Cloud Exit supercharges macOS CI/CD">
    <meta property="og:description" content="Discover how our transition from cloud-based Mac hardware infrastructure to a colocation cluster within Southeast Asia has revolutionized our macOS CI/CD, enhancing performance and reducing costs.">
    <meta property="og:site_name" content="Grab Tech">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://engineering.grab.com/img/mac-cloud-exit/cover.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- CSS -->
    <link href="//fonts.googleapis.com/css?family=Droid+Serif:400,400i,700,700i" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://engineering.grab.com/mac-cloud-exit">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS for Official Grab Tech Blog" href="/feed.xml">
    <!-- OneTrust Cookies Consent Notice start for grab.com -->
    <script type="text/javascript" src="https://cdn-apac.onetrust.com/consent/a3be3527-7455-48e0-ace6-557ddbd506d5/OtAutoBlock.js" ></script>
    <script src="https://cdn-apac.onetrust.com/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="a3be3527-7455-48e0-ace6-557ddbd506d5" ></script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for grab.com -->
  </head>

  <body>
    <header class="site-header">
  <div class="wrapper-navbar">
    <div class="site-title-wrapper">
      <div class="row site-title-wrapper-inner">
        <div class="col-xs-1 visible-xs hamburger-nav" id="mobile-menu-btn">
          <div class="menu-btn"></div>
        </div>
        <div class="col-sm-3 col-xs-3">
          <div class="site-title-container">
            <a class="site-title" href="/"></a>
            <span class="site-subtitle">&nbsp;Tech Blog</span>
          </div>
        </div>
        <div class="col-sm-9 col-xs-8 text-right">
          <ul class="nav-category hidden-xs">
            
              
              <li>
                <a href="/categories/engineering/">Engineering</a>
              </li>
            
              
              <li>
                <a href="/categories/data-science/">Data Science</a>
              </li>
            
              
              <li>
                <a href="/categories/design/">Design</a>
              </li>
            
              
              <li>
                <a href="/categories/product/">Product</a>
              </li>
            
              
              <li>
                <a href="/categories/security/">Security</a>
              </li>
            
          </ul>
          <div class="site-search text-right">
            <form action="/search.html" role="search" class="search-form">
  <div class="search-icon"> </div>
  <input type="search" name="q" class="search-text" placeholder="Search...">
  <button class="search-submit"><i class="fa fa-chevron-right"></i></button>
</form>
    

          </div>
        </div>
      </div>
      <!--  Only visible on mobile view -->
      <div class="mobile-menu-container">
        <ul class="mobile-menu">
          
            
            <li>
              <a href="/categories/engineering/">Engineering</a>
            </li>
          
            
            <li>
              <a href="/categories/data-science/">Data Science</a>
            </li>
          
            
            <li>
              <a href="/categories/design/">Design</a>
            </li>
          
            
            <li>
              <a href="/categories/product/">Product</a>
            </li>
          
            
            <li>
              <a href="/categories/security/">Security</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</header>
<script src="/js/main.js"></script>

    <div class="page-content">
      
<div class="wrapper">
  <div class="post">
    <header class="post-header">
      <img src="/img/mac-cloud-exit/cover.png" class="post-cover-photo" alt="Grab's Mac Cloud Exit supercharges macOS CI/CD cover photo">
      
        
          <a class="post-category" href="/categories/engineering/">Engineering </a>
      

      <h1 class="post-title">Grab's Mac Cloud Exit supercharges macOS CI/CD</h1>
      
      <div class="post-meta">
        <div class="row">
          <div class="col-xs-12">
            <div class="post-author-thumbnail-container">
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/madushan-gamage.png">
                
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/jacob-xu.png">
                
              
                
                
                  <img class="post-author-thumbnail-large img-circle" src="/img/authors/tunyi-oh.png">
                
              
            </div>

            <div class="post-meta-text-container">
              <span class="post-author-large">
                
                  
                  
                    
                    <a href="/authors#madushan-gamage">Madushan Gamage</a>
                  
                
                  
                  
                    
                      &middot;
                    
                    <a href="/authors#jacob-xu">Jacob Xu</a>
                  
                
                  
                  
                    
                      &middot;
                    
                    <a href="/authors#tunyi-oh">Tunyi Oh</a>
                  
                
              </span>
              <span class="post-date-large">6 Nov 2025 | 13 min read</span>
            </div>
          </div>
        </div>
      </div>

    </header>
    <div class="wrapper-content">
      <article class="post-content">
        <h2 id="introduction">Introduction</h2>

<p>In our mission to optimize continuous integration and delivery (CI/CD), we have taken a bold step by relocating our infrastructure from a cloud vendor in the US to a colocation cluster within Southeast Asia, closer to our Git server infrastructure. This change has dramatically improved the performance of our macOS builds, primarily by reducing the network traffic delays associated with distant data centers. By bringing our infrastructure closer to home, we have not only accelerated CI/CD job completion times but also massively slashed operational costs.</p>

<p>Join us as we delve into the Mac Cloud Exit journey and the significant improvements it has brought to our workflows.</p>

<p>Our macOS CI/CD infrastructure has evolved from 1 Physical Mac Pro running in our office to a cluster of 250 Mac minis fully occupied during peak hours of the day. There were multiple stages in the journey to transition to the current state. The following diagram shows the focus area for this blog post.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image1.png" alt="" style="width:60%" /><figcaption align="middle">Figure 1. Infrastructure transition path</figcaption>
  </figure>
</div>

<h3 id="before-and-after-visualizing-the-evolution">Before and after: Visualizing the evolution</h3>

<p>We began our journey with a much simpler setup.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image2.png" alt="" style="width:40%" /><figcaption align="middle">Figure 2. Photo of the setup when we started</figcaption>
  </figure>
</div>

<p>Today, that infrastructure has scaled significantly to meet the growing demands of Grab</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image3.png" alt="" style="width:50%" /><figcaption align="middle">Figure 3. Mac mini cluster today</figcaption>
  </figure>
</div>

<h2 id="economy-at-scale-the-rent-vs-own-equation">Economy at scale: The rent vs. own equation</h2>

<p>At the beginning, it was a no-brainer to rent when our demand for macOS hardware increased from 1 MacPro to 20 times that size. However, when that grew to over 200 machines, the total cost became significant, prompting us to consider:</p>

<ol>
  <li>What is the desired reliability for this cluster?</li>
  <li>What would be the total cost of ownership for us to build this cluster ourselves compared to cloud-based options?</li>
  <li>What kind of operational leverage would it bring us by controlling end-to-end stack by ourselves?</li>
</ol>

<h3 id="what-is-grabs-scale">What is Grab’s scale</h3>

<p>At Grab, our iOS build needs have scaled quite significantly, so we went from running some builds on a single Mac Pro to running them on an army of 250+ Mac minis. And so did the cost.</p>

<h4 id="active-jobs-trend">Active jobs trend</h4>

<p>The total number of jobs trend is one of the data points to understand the demand situation. The following chart is a snapshot from our demand curve in 2022. Peak demand often started to exceed the available supply, creating queues for the jobs.</p>

<p>We estimated we would need 200+ machines to comfortably supply for the peak demand and projected a demand for 400+ machines in 2025.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image4.png" alt="" style="width:70%" /><figcaption align="middle">Figure 4. Active macOS CI/CD jobs</figcaption>
  </figure>
</div>

<h3 id="what-is-our-workload">What is our workload</h3>

<p>We have several iOS apps that share a common macOS compute cluster for their CI/CD workloads. <br />
This includes, but is not limited to:</p>

<ul>
  <li><a href="https://apps.apple.com/sg/app/grab-taxi-ride-food-delivery/id647268330">Grab app</a> (Largest iOS code base with approximately 2.5M+ total lines of code)</li>
  <li><a href="https://apps.apple.com/sg/app/grab-driver-app-for-partners/id1257641454">Grab Driver app</a> (Second largest iOS code base with approximately 0.7M+ total lines of code)</li>
  <li><a href="https://apps.apple.com/sg/app/kartalink/id6450411148">KartaLink</a></li>
  <li><a href="https://apps.apple.com/sg/app/grabmerchant/id1282271764">GrabMerchant</a></li>
  <li><a href="https://apps.apple.com/sg/app/kartaview/id1089548849">KartaView</a></li>
  <li><a href="https://apps.apple.com/us/app/ovo/id1142114207">OVO</a></li>
  <li><a href="https://apps.apple.com/ph/app/move-it-fast-moto-taxi-ride/id1481198245">Move It: Fast Moto Taxi Ride</a></li>
  <li><a href="https://apps.apple.com/ph/app/move-it-driver-app/id6446633186">Move It Driver App</a></li>
</ul>

<p>The workload primarily involves:</p>

<ul>
  <li>Building apps</li>
  <li>Execution of tests</li>
</ul>

<h2 id="the-evaluation-cloud-vs-colocation-vs-on-premises">The evaluation: Cloud vs colocation vs on-premises</h2>

<p>We did a comprehensive comparison and total cost of ownership (TCO) estimation to compare many different options, including cloud vendors and colocation in different places.</p>

<h3 id="cost-of-macos-compute">Cost of macOS compute</h3>

<p>The expense of macOS compute is notably higher, particularly in continuous integration (CI) setups, posing challenges for optimal configuration. Several factors contribute to these increased costs:</p>

<ul>
  <li>Apple’s restrictive EULA mandates a minimum lease period of 24 hours for macOS instances, which alters the utilization equation.</li>
  <li>Economies of scale are not favorable for available macOS hardware configurations compared to alternatives. Optimized server hardware designed for racking offers various configurations that reduce operational costs, unlike macOS options such as Mac Mini and Mac Pro.</li>
</ul>

<p>For instance, although not a direct comparison, the <a href="https://docs.github.com/en/billing/managing-billing-for-your-products/managing-billing-for-github-actions/about-billing-for-github-actions#per-minute-rates-for-standard-runners">pricing for GitHub Actions build minutes</a> shows macOS is ten times more costly than Linux. This reflects the pricing GitHub can offer after <a href="https://www.youtube.com/watch?v=I2J2MzKjcqY">implementing racking optimizations.</a></p>

<p>Initially, we conducted rough estimations to assess the total cost of ownership differences between cloud, colocation, and on-premises setups. Even with conservative estimates for manpower and engineering costs, colocation or on-premises setups proved more cost-effective at our scale. This cost disparity became even more pronounced when focusing on cloud vendors providing macOS compute physically located in Southeast Asia.</p>

<p>We opted to conduct an in-depth evaluation of the following options:</p>

<ul>
  <li>Establishing a macOS cluster at our headquarters in Singapore, which was swiftly dismissed due to scalability and cost concerns making it an unsuitable long-term solution.</li>
  <li>Colocating in a Southeast Asian country where we have operational presence.</li>
</ul>

<h3 id="choice-of-location">Choice of location</h3>

<p>As a Southeast Asian company, we maintain offices in each country where we operate, some of which boast advanced data center infrastructures. We focused our location choices on Singapore and Malaysia, assessing them based on several criteria, including:</p>

<ul>
  <li>The maturity of existing data center infrastructure.</li>
  <li>The proximity of the data centers to our offices, ensuring staff availability for infrastructure setup.</li>
  <li>The cost and reliability of power.</li>
  <li>The proximity to our Git servers and the expense of establishing direct network connections.</li>
</ul>

<p>Eventually we concluded to go ahead with a decision to colocate in a data center in Malaysia <a href="https://www.edgeconnex.com/news/edge-blog/southeast-asias-data-center-powerhouse-malaysia/">which is one of the emerging data center powerhouses in the region</a> with relatively low energy cost compared to Singapore.</p>

<h3 id="choice-of-mac-hardware">Choice of Mac hardware</h3>

<p>Our choice of hardware model for our build and test workload was guided by a cost-benefit analysis. We decided to use bare-metal setups without virtualization, simplifying migration processes, which may be revisited in the future. We ensured we neither over-specified nor under-specified the bare-metal hardware. We had a clear understanding of the resource consumption of our most demanding workload on a few reference models, as illustrated in the following graphs.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image5.png" alt="" style="width:80%" /><figcaption align="middle">Figure 5. User and system CPU usage during build</figcaption>
  </figure>
</div>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image6.png" alt="" style="width:80%" /><figcaption align="middle">Figure 6. Memory usage</figcaption>
  </figure>
</div>

<h3 id="virtualization-vs-bare-metal">Virtualization vs bare-metal</h3>

<p>Virtualization offers significant advantages in managing and provisioning clusters, including the flexibility to create ephemeral builds. However, our experience with macOS virtualization has been mixed. While off-the-shelf virtualization solutions provide maintenance benefits, they often come at the cost of performance or stability.</p>

<p>Key points:</p>

<ul>
  <li><strong>Improved utilization</strong>: Virtualization can improve resource utilization by consolidating multiple workloads on fewer physical servers, thereby reducing the overall cost.</li>
  <li><strong>Performance penalty</strong>: However, the performance penalty associated with virtualization can sometimes negate these cost benefits. This is particularly true for macOS virtualization, where we have observed trade-offs in performance or stability.</li>
  <li><strong>Evolution of virtualization</strong>: The virtualization space has been evolving and making good progress. We may re-evaluate these solutions in the future as they continue to mature and potentially address current performance and stability issues.</li>
</ul>

<p>Our conclusion was to stick to bare-metal for the time-being as the benefits didn’t justify the downside and cost.</p>

<h2 id="execution">Execution</h2>

<h3 id="progressive-migration">Progressive migration</h3>

<p>Any disruption to the macOS CI/CD cluster would be hugely disruptive to the company given our scale highlighted above. So, we enabled new cluster partially for part of the workload for a reasonably long period of time and monitored and compared:</p>

<ul>
  <li>Job failure rate</li>
  <li>Jobs performance</li>
  <li>Reliability</li>
</ul>

<p>Once we were confident, we made the full switch and terminated vendor contracts at due.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image7.png" alt="" style="width:90%" /><figcaption align="middle">Figure 7. Total active jobs trend</figcaption>
  </figure>
</div>

<h2 id="result">Result</h2>

<p>The migration yielded better results overall than our initial conservative estimates.</p>

<ul>
  <li>Cost savings: Estimated over 2.4 million USD over three years</li>
  <li>Performance improvement: Between 20-40% depending on the use case</li>
  <li>Stability: No compromise</li>
</ul>

<p>A strategic investment in our mission to drive Southeast Asia forward by onshoring critical Mac infrastructure into the region.</p>

<h3 id="cost">Cost</h3>

<p>We anticipate a three-year replacement cycle for our hardware. While some equipment may be utilized beyond this period, it provides a reasonable lifespan for cost estimation purposes.</p>

<p>The lifecycle of networking equipment involves both physical reliability, following the bathtub curve, and technological obsolescence, often necessitating replacement every 3 to 5 years. Mac minis could become outdated after approximately three years, making the opportunity cost of extended use potentially higher than the net replacement cost after benefits.</p>

<p>Importantly, the experience gained during this cycle could significantly reduce the engineering costs associated with future replacements.</p>

<p>Overall, we project total cost of ownership savings of approximately 2.4 million USD over a three-year period compared to our last cloud-based setup rented from a vendor.</p>

<h3 id="performance">Performance</h3>

<p>We measured the performance gains in two of our largest iOS apps:</p>

<ul>
  <li>Grab app</li>
  <li>Grab Driver app</li>
</ul>

<h4 id="overall-gains">Overall gains</h4>

<p>The following table summarizes the total time measured before and after the migration for total CI pipeline time and building the app codebase. Measurements are presented in 3 percentiles (p50, p75, p95).</p>

<table class="table">
    <thead>
        <tr>
            <th rowspan="2">App / Metric</th>
            <th rowspan="2"></th>
            <th colspan="3">Time (Minutes)</th>
        </tr>
        <tr>
            <th>p50</th>
            <th>p75</th>
            <th>p95</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan="3">CI pipeline time trend for the Grab app</td>
            <td>Before</td>
            <td>43</td>
            <td>54</td>
            <td>67</td>
        </tr>
        <tr>
            <td>After</td>
            <td>33</td>
            <td>42</td>
            <td>49</td>
        </tr>
        <tr>
            <td><b>Gain</b></td>
            <td><b>23.26%</b></td>
            <td><b>22.22%</b></td>
            <td><b>26.87%</b></td>
        </tr>
        <tr>
            <td rowspan="3">App build time trend for the Grab app</td>
            <td>Before</td>
            <td>10.7</td>
            <td>13.2</td>
            <td>17.6</td>
        </tr>
        <tr>
            <td>After</td>
            <td>6.45</td>
            <td>9</td>
            <td>10.8</td>
        </tr>
        <tr>
            <td><b>Gain</b></td>
            <td><b>39.72%</b></td>
            <td><b>31.82%</b></td>
            <td><b>38.64%</b></td>
        </tr>
        <tr>
            <td rowspan="3">Pipeline time trend for the Grab Driver app</td>
            <td>Before</td>
            <td>47</td>
            <td>50</td>
            <td>52</td>
        </tr>
        <tr>
            <td>After</td>
            <td>26</td>
            <td>31</td>
            <td>32</td>
        </tr>
        <tr>
            <td><b>Gain</b></td>
            <td><b>44.68%</b></td>
            <td><b>38.00%</b></td>
            <td><b>38.46%</b></td>
        </tr>
        <tr>
            <td rowspan="3">App build time trend for the Grab Driver app</td>
            <td>Before</td>
            <td>10</td>
            <td>13</td>
            <td>14</td>
        </tr>
        <tr>
            <td>After</td>
            <td>6</td>
            <td>8</td>
            <td>8.5</td>
        </tr>
        <tr>
            <td><b>Gain</b></td>
            <td><b>40.00%</b></td>
            <td><b>38.46%</b></td>
            <td><b>39.29%</b></td>
        </tr>
    </tbody>
</table>

<h4 id="a-different-perspective-trends">A different perspective: Trends</h4>

<p>The following trend illustrations show how the performance of various tasks has improved while we progressively migrated to the new colocation setup.</p>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image8.png" alt="" style="width:90%" /><figcaption align="middle">Figure 8. 14 day aggregate percentiles of p50, p75 and p95 for total CI pipeline times for the Grab app codebase</figcaption>
  </figure>
</div>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image9.png" alt="" style="width:90%" /><figcaption align="middle">Figure 9. Pipeline time pulse for the Grab app codebase</figcaption>
  </figure>
</div>

<div class="post-image-section"><figure>
  <img src="/img/mac-cloud-exit/image10.png" alt="" style="width:90%" /><figcaption align="middle">Figure 10. 14 day aggregate percentiles of p50, p75 and p95 for total CI pipeline times for the Grab Driver app codebase</figcaption>
  </figure>
</div>

<h3 id="stability">Stability</h3>

<p>We measured overall job failure rates between both clusters for extended periods as a guardrail metric and ensured the stability of the new cluster before shutting down the old one.</p>

<h2 id="colocation-setup-and-rack-configuration">Colocation setup and rack configuration</h2>

<p>The following table provides an overview of the layout of our new Mac mini cluster.</p>

<table class="table">
    <thead>
        <tr>
            <th>Component</th>
            <th>Description</th>
            <th>Redundancy</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Rack</td>
            <td>We have got four 42RU (600x1200x42RU) racks housing 200+ Mac minis, plus some spare racks to house upcoming scheduled capacity upgrades.</td>
            <td>Racks have shared resources which have their own redundancy. Generally rack separation does provide some level of redundancy for total compute.</td>
        </tr>
        <tr>
            <td>Power</td>
            <td>2 power sources power the cluster. Each rack is powered by these 2 power sources. It is 1U, 2-post rack mount.</td>
                <td>Losing 1 power source will reduce 50% of capacity.</td>
        </tr>
        <tr>
            <td>Mac Mini</td>
            <td>We rack 2 Mac minis in a row on a mounting tray, typically racking 70 minis in one rack in total. Except for the first rack which requires extra rack units (RUs) for core switches and firewalls.</td>
            <td></td>
        </tr>
        <tr>
            <td>KVM</td>
            <td>KVM switches with adaptor for keyboard and mouse emulation when required.</td>
            <td>N/A</td>
        </tr>
        <tr>
            <td>Networking Setup</td>
            <td>Networking consists of Core Switches, Access Switches, Firewalls, Internet and Direct Connect Links.</td>
            <td>Mostly active/active redundancy.</td>
        </tr>
    </tbody>
</table>

<h2 id="provisioning-and-configuration">Provisioning and configuration</h2>

<h3 id="zero-touch-provisioning">Zero-touch provisioning</h3>

<p>Zero-touch provisioning is a streamlined method for setting up and configuring devices with minimal manual intervention. This section outlines the process and benefits of zero-touch provisioning using Jamf for Mac minis.</p>

<p>We have a setup that enables these machines to start accepting jobs once they are racked up and connected (Power and network cables). Here is how it works:</p>

<h4 id="mobile-device-management-mdm-configuration-and-automated-device-enrollment-ade">Mobile Device Management (MDM) configuration and Automated Device Enrollment (ADE)</h4>

<p>ADE, previously known as Device Enrollment Program (DEP), is an Apple service that facilitates automatic enrollment. When a new Mac Mini is acquired and registered in the organization’s ADE account, it is primed for automatic enrollment. Administrators create a PreStage enrollment configuration within Jamf Pro, encompassing account settings (e.g., creating a local admin account, hiding it in Users &amp; Groups, skipping account creation for the user), configuration profiles (defining device settings, security policies, and restrictions), and enrollment packages (including necessary software and scripts).</p>

<h4 id="device-setup-activation-and-redirection">Device setup: Activation and redirection</h4>

<p>Upon powering on and connecting to the internet, the Mac Mini communicates with Apple’s activation servers. The activation servers identify the device as part of the organization’s ADE and redirect it to the Jamf MDM server, ensuring automatic enrollment without user input.</p>

<h4 id="enrollment-and-configuration">Enrollment and configuration</h4>

<p>The Mac Mini enrolls into the Jamf MDM system automatically. Jamf applies predefined configuration profiles to set up the device’s settings, installs required applications based on configured policies, and enforces security policies such as encryption and authentication settings to ensure compliance.</p>

<h4 id="key-benefits-of-zero-touch-provisioning">Key benefits of zero-touch provisioning</h4>

<ul>
  <li><strong>Efficiency</strong>: Devices are ready to use right out of the box, reducing the time and effort required by IT staff.</li>
  <li><strong>Consistency</strong>: Ensures that all devices are configured uniformly according to organizational policies.</li>
  <li><strong>Security</strong>: Enforces security policies from the moment the device is first powered on, reducing vulnerabilities.</li>
  <li><strong>Scalability</strong>: Easily manage and configure a large number of devices without manual intervention.</li>
</ul>

<h2 id="learnings-and-insights">Learnings and insights</h2>

<h3 id="supply-chain-is-as-fast-as-the-last-essential-component-you-need">Supply chain is as fast as the last essential component you need</h3>

<p>The efficiency of a supply chain hinges on the delivery of its final essential component. Despite being a fundamental principle, it’s worth reiterating. Our timely launch was facilitated by a buffer period for unexpected delays. Interestingly, one of the last critical items to arrive was the rack mounting trays. The brief delay underscored the importance of prioritizing and planning for on-time delivery of every essential component, irrespective of its manufacturing simplicity.</p>

<h3 id="consistently-address-the-question-how-will-this-scale">Consistently address the question: How will this scale?</h3>

<p>From the outset, our goal was to develop a scalable infrastructure. As the cluster expands, tasks such as preparing Mac minis for job acceptance require increasing manual input, which ultimately impacts costs. Hence, zero-touch provisioning becomes essential, as scalability is not merely a desirable feature but a necessity.</p>

<h3 id="plan-and-opt-in-for-a-power-cost-structure-best-suits-for-your-need">Plan and opt in for a power cost structure best suits for your need</h3>

<h4 id="power-cost-structures">Power cost structures</h4>

<p>In a colocation setup power costs can be billed in several ways, each with pros and cons:</p>

<ul>
  <li><strong>Flat rate per circuit</strong>: A fixed monthly fee, predictable but limits flexibility (e.g., can’t exceed 80% without extra circuits).</li>
  <li><strong>Allocated kW</strong>: Commit to a fixed power amount (e.g., 100 kW), potentially cheaper but with penalties for overages.</li>
  <li><strong>Metered usage</strong>: Pay for actual consumption (kWh), good for variable loads but may still charge for space.</li>
  <li><strong>All-in Sspace and power</strong>: Single rate covering both, easy to compare but less flexible for upgrades.</li>
</ul>

<p>We ultimately opted for an allocated kW commitment, a phased approach based on conservative equipment power ratings and historical usage. We structured this into phases of commitment increases for future capacity growth.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The Mac Cloud Exit wasn’t just a technical migration; it was a strategic move that fundamentally enhanced our engineering efficiency. By onshoring our infrastructure into Southeast Asia, we have achieved $2.4 million USD in projected savings and supercharged our CI pipeline, delivering performance gains of 20-40%. This project proves that taking ownership of our core infrastructure can be a major competitive advantage, allowing us to deliver faster and more reliably for our users across the region.</p>

<h2 id="join-us">Join us</h2>

<p>Grab is a leading superapp in Southeast Asia, operating across the deliveries, mobility and digital financial services sectors. Serving over 800 cities in eight Southeast Asian countries, Grab enables millions of people everyday to order food or groceries, send packages, hail a ride or taxi, pay for online purchases or access services such as lending and insurance, all through a single app. Grab was founded in 2012 with the mission to drive Southeast Asia forward by creating economic empowerment for everyone. Grab strives to serve a triple bottom line – we aim to simultaneously deliver financial performance for our shareholders and have a positive social impact, which includes economic empowerment for millions of people in the region, while mitigating our environmental footprint.</p>

<p>Powered by technology and driven by heart, our mission is to drive Southeast Asia forward by creating economic empowerment for everyone. If this mission speaks to you, <a href="https://grb.to/gebmacos">join our team</a> today!</p>

      </article>
      <div>
        
          <div class="post-tags">
  
  
    <a href="/tags#engineering" class="label tags-label">engineering</a>
  
    <a href="/tags#performance" class="label tags-label">performance</a>
  
</div>

        
        <br>
      </div>
      <div class="sharing-links text-right">
  Share on &nbsp;
  <a href="https://twitter.com/intent/tweet?text=Grab's Mac Cloud Exit supercharges macOS CI/CD&url=https://engineering.grab.com/mac-cloud-exit&via=grabengineering&related=grabengineering" class="btn btn-sm btn-share btn-share-twitter" rel="nofollow" target="_new" title="Share on Twitter" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-twitter"></i>&nbsp; Twitter</a>
  <a href="https://facebook.com/sharer.php?u=https://engineering.grab.com/mac-cloud-exit" class="btn btn-sm btn-share btn-share-facebook" rel="nofollow" target="_new" title="Share on Facebook" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-facebook"></i>&nbsp; Facebook</a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://engineering.grab.com/mac-cloud-exit&title=Grab's Mac Cloud Exit supercharges macOS CI/CD
&summary=Discover how our transition from cloud-based Mac hardware infrastructure to a colocation cluster within Southeast Asia has revolutionized our macOS CI/CD, enhancing performance and reducing costs.&source=Grab Tech" class="btn btn-sm btn-share btn-share-linkedin" rel="nofollow" target="_new" title="Share on LinkedIn" onclick="onShareButtonClick(this); return false;"><i class="fa fa-lg fa-linkedin"></i>&nbsp; LinkedIn</a>
</div>
<script>
  function onShareButtonClick(button) {
    var width = 600;
    var height = 600;
    var left = (window.screen.width / 2) - (width / 2);
    var top = (window.screen.height / 2) - (height / 2);
    window.open(button.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=' + height + ',width=' + width + ',top=' + top + ',left=' + left);
    return false;
  }
</script>

      <hr class="section-divider">

      <br/>
      <!-- 
        <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'https://engineering.grab.com/mac-cloud-exit';
    this.page.identifier = '/mac-cloud-exit';
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = '//grabengineering.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

       -->

    </div>
  </div>
</div>

    </div>
    <div class="progress-wrap">
    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
    </svg>
    <i class="fa fa-chevron-up btt-btn"></i>
</div>
    <footer class="site-footer">
  <div class="wrapper">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <h2 class="footer-heading">Grab Tech</h2>
        <ul class="social-media-list">
  
    <li>
      <a href="https://github.com/grab" target="_blank" rel="nofollow noreferrer">
        <i class="fa fa-github fa-lg"></i>
      </a>
    </li>
  
  
    <li>
      <a href="https://www.linkedin.com/company/grabapp" target="_blank" rel="nofollow noreferrer">
        <i class="fa fa-linkedin fa-lg"></i>
      </a>
    </li>
  
  <li>
    <a href="https://engineering.grab.com/feed.xml" target="_blank">
      <i class="fa fa-rss fa-lg"></i>
    </a>
  </li>
</ul>

        <div>
          <script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
          <script type="IN/FollowCompany" data-id="5382086" data-counter="right"></script>
        </div>        
        <br>
      </div>
      <div class="col-sm-6 col-xs-12 hiring-section">
        <h2 class="footer-heading">Join Us</h2>
        <p class="text">
          Want to join us in our mission to revolutionize transportation?
        </p>
        <a class="btn" href="https://grab.careers" target="_blank">View open positions</a>

      </div>
    </div>
    
  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-T3CT72T');
  </script>
  <!-- End Google Tag Manager -->

  <!-- Old script 
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'GTM-T3CT72T', 'auto');
    ga('send', 'pageview');
  </script> -->
<!-- End of olf script -->


  </body>
</html>
